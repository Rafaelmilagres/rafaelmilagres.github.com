<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Pokédex</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<div class="pokedex">

	<div class="border-back-left">
		<div class="back-left">
			<div class="top-left">
				<div class="blue_circle">
					<div class="voice">
						<div class="luz"></div>
					</div>
				</div>
				<div class="three-circle">
					<div class="circle1"></div>
					<div class="circle2"></div>
					<div class="circle3"></div>
				</div>
			</div>

			<div class="content-left">
				<svg>
					<path d="M1 105 C 1 105, 230 115, 267 45" stroke-width="10px" stroke="#b61b17" fill="transparent"/>
					<path d="M265 50 C 280 25, 320 13, 478 13" stroke-width="10px" stroke="#b61b17" fill="transparent"/>

					<path d="M0 100 C 0 100, 230 110, 260 45" stroke-width="2px" stroke="black" fill="transparent"/>
					<path d="M260 45 C 290 20, 320 8, 479 8" stroke-width="2px" stroke="black" fill="transparent"/>

					<path d="M0 110 C 0 110, 230 120, 270 50" stroke-width="2px" stroke="black" fill="transparent"/>
					<path d="M270 50 C 290 30, 320 18, 478 18" stroke-width="2px" stroke="black" fill="transparent"/>

	  				<g stroke="black" >
						<line x1="100" y1="108" x2="110" y2="98" stroke-width="2" />
						<line x1="108" y1="108" x2="118" y2="98" stroke-width="2" />
						<line x1="116" y1="107" x2="126" y2="97" stroke-width="2" />
						<line x1="124" y1="106" x2="135" y2="96" stroke-width="2" />
						<line x1="132" y1="105" x2="143" y2="95" stroke-width="2" />
						<line x1="140" y1="104" x2="151" y2="93" stroke-width="2" />

						<line x1="310" y1="30" x2="320" y2="18" stroke-width="2" />
						<line x1="318" y1="27" x2="328" y2="17" stroke-width="2" />
						<line x1="326" y1="26" x2="336" y2="16" stroke-width="2" />
						<line x1="334" y1="25" x2="344" y2="15" stroke-width="2" />
						<line x1="342" y1="24" x2="352" y2="13" stroke-width="2" />
						<line x1="350" y1="23" x2="360" y2="12" stroke-width="2" />
					</g>
				</svg>

				<div class="screen_block">
					<div class="screen_border_out">
						<div class="screen_border">
							<div class="screen brilho">
								<div class="shadow"></div>
							</div>
							<div class="lines">
								<div class="line"></div>
								<div class="line"></div>
								<div class="line"></div>
								<div class="line"></div>
							</div>

							<div class="poweroff"></div>

							<div class="top cleafix">
								<div class="circle1"></div>
								<div class="circle2"></div>
								<div class="circle3"></div>
							</div>
						</div>
					</div>
				</div>

				<div class="bottom_block">	
					<div class="logo">
						Pokédex
						<span>V0.1 Copyright &copy</span>
					</div>

					<div class="directions">
						<div class="top_button"></div>
						<div class="left_button"></div>
						<div class="right_button"></div>
						<div class="bottom_button"></div>
						<div class="center_button">
							<div class="circle"></div>
						</div>
					</div>
				</div>
			</div>

			<div class="center">
				<div class="line-top1"></div>
				<div class="line-top2"></div>
				<div class="vertical-line-top1"></div>
				<div class="vertical-line-top2"></div>


				<div class="line-bottom1"></div>
				<div class="line-bottom2"></div>
				<div class="vertical-line-bottom1"></div>
				<div class="vertical-line-bottom2"></div>

				<div class="circle-bottom"></div>
			</div>
		</div>
	</div>
	<div class="back-right">
		<div class="list_pokemon">
			
		</div>

		<svg>
			<path d="M20 121 C 78 123, 240 120, 279 59" stroke-width="10px" stroke="#b61b17" fill="transparent"/>
			<path d="M277 60 C 300 42, 320 35, 445 31" stroke-width="10px" stroke="#b61b17" fill="transparent"/>
			<path id="svg_1" fill="transparent" stroke="#fb0505" stroke-width="10px" d="m1,105c0,0 229,10 266,-60"/>
		  	<path id="svg_2" fill="transparent" stroke="#fb0505" stroke-width="10px" d="m265,50c15,-25 55,-37 213,-37"/>
		  	<path id="svg_3" fill="transparent" stroke="black" stroke-width="2px" d="m0,100c0,0 230,10 260,-55"/>
		  	<path id="svg_4" fill="transparent" stroke="black" stroke-width="2px" d="m260,44.53489c30,-25 60,-37 240,-37"/>
		  	<path id="svg_5" fill="transparent" stroke="black" stroke-width="2px" d="m15,115c0,0 215,10 260,-60"/>
		  	<path id="svg_6" fill="transparent" stroke="black" stroke-width="2px" d="m275,55c10,-15 50,-27 170,-30"/>
		  	<ellipse rx="0.5" id="svg_9" cy="22" cx="22" stroke-width="1.5" stroke="#000" fill="#fff"/>
		  	<path id="svg_12" d="m0,98.60458l48.60444,0.93023l68.37204,-3.25581l62.79066,-8.8372l39.06975,-11.6279l19.53488,-10.23255l12.09302,-9.30231l6.04648,-7.90697l3.72095,-5.58139l13.48834,-10.23255l16.74417,-8.37209l16.7442,-5.11628l-307.90676,5.58139l0.69785,73.95344l0,-0.00001l-0.00001,0z" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#fff"/>
		  	<path id="svg_13" d="m396.51154,7.44186l-42.0932,3.25581l-17.67441,2.32558l-25.11624,4.65116l-13.95349,3.72092l-299.06954,6.04651l1.39535,-19.99999c132.17052,0 264.34103,0.00001 396.51154,0.00001z" stroke-opacity="null" stroke-width="0" stroke="black" fill="#ffffff"/>
		  	<rect fill="#ffffff" stroke-width="0" stroke-opacity="null" x="-20.5" y="-16.06897" width="501.14823" height="23" id="svg_7" stroke="black"/>
		  	<rect fill="#ffffff" stroke="black" stroke-width="0" stroke-opacity="null" x="377.5" y="-5" width="1" height="2" id="svg_8"/>
		  	<rect fill="#ffffff" stroke="black" stroke-width="0" stroke-opacity="null" x="402.5" y="-15" width="0" height="1" id="svg_10"/>
		  	<rect fill="#ffffff" stroke="black" stroke-width="0" stroke-opacity="null" fill-opacity="null" x="0.07436" y="0.74051" width="405.18564" height="7.40742" id="svg_11"/>
		  	<rect fill="#fff" stroke="#000" stroke-width="0" stroke-opacity="null" fill-opacity="null" x="398.14832" y="2.22199" width="30.3704" height="4.44445" id="svg_14"/>



			<path d="M20 116 C 20 550, 20 550, 21 554" stroke-width="10px" stroke="#b61b17" fill="transparent"/>
		  	<g stroke="#b61b17">
				<line x1="22" y1="550" x2="20" y2="557" stroke-width="8" />
		  	</g>
			<path d="M15 540 C 15 550, 15 560, 30 560" stroke-width="2px" stroke="black" fill="transparent"/>
			<path id="svg_4" fill="transparent" stroke="black" stroke-width="2px" d="m279,66c30,-25 60,-25 165,-30"/>
		  	<path fill="transparent" stroke="black" stroke-width="2px" d="m25,125c0,0 195,10 255,-60"/>


		  	<g stroke="black" >
						<line x1="100" y1="125" x2="110" y2="112" stroke-width="2" />
						<line x1="108" y1="124" x2="118" y2="112" stroke-width="2" />
						<line x1="116" y1="124" x2="126" y2="111" stroke-width="2" />
						<line x1="124" y1="123" x2="135" y2="110" stroke-width="2" />
						<line x1="132" y1="122" x2="143" y2="109" stroke-width="2" />
						<line x1="140" y1="121" x2="151" y2="108" stroke-width="2" />

						<line x1="310" y1="50" x2="320" y2="35" stroke-width="2" />
						<line x1="318" y1="48" x2="328" y2="35" stroke-width="2" />
						<line x1="326" y1="46" x2="336" y2="32" stroke-width="2" />
						<line x1="334" y1="45" x2="344" y2="31" stroke-width="2" />
						<line x1="342" y1="44" x2="352" y2="30" stroke-width="2" />
						<line x1="350" y1="43" x2="360" y2="30" stroke-width="2" />
					</g>

		  	<g stroke="black">
				<line x1="15" y1="115" x2="15" y2="540" stroke-width="2" />
				<line x1="30" y1="560" x2="445" y2="560" stroke-width="2" />
				<line x1="445" y1="25" x2="445" y2="560" stroke-width="2" />

				<line x1="25" y1="125" x2="25" y2="560" stroke-width="2" />
		  	</g>
		</svg>
	</div>
</div>
<div class="abrir">Abrir</div>

<script type="text/javascript">
	var pokemons;
	var pokemon_html = "<div class=\"pokemon\"><span class=\"id\">{id}</span><span class=\"nome\">{nome}</span></div>";
	var url = 'http://pokeapi.co//api/v1/pokedex/1/';

	function httpGetAsync(url) {
		// verifica se já possui os pokemons armazenados no localStorage
		if(localStorage['pokemons']){
			insere_pokemons(JSON.parse(localStorage['pokemons']));
			return;
		}

		var xmlHttp = new XMLHttpRequest();
		xmlHttp.onreadystatechange = function() {
			if (xmlHttp.readyState == 4 && xmlHttp.status == 200){
				pokemons = JSON.parse(xmlHttp.responseText);
				localStorage['pokemons'] = xmlHttp.responseText;
				insere_pokemons(pokemons);
			}
		}
		xmlHttp.open( "GET", url, true ); // true para assíncrono
		xmlHttp.send( null );
	}

	httpGetAsync(url);

	function insere_pokemons(dicionario){
		// preenche a div list_pokemon com elementos 'pokemon'
		for(p in dicionario.pokemon){
			aux = pokemon_html;
			aux = aux.replace("{id}", dicionario.pokemon[p].resource_uri.split('/')[3]);
			re = new RegExp("-", 'g');

			aux = aux.replace("{nome}", dicionario.pokemon[p].name.replace(re, " "));

			document.getElementsByClassName('list_pokemon')[0].innerHTML += aux;
		}
	}
</script>
</body>
</html>